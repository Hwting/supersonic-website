# 一.插件市场

## 1.1 插件市场简介

<p>为了更好的实现用户的自定义需求，超音数提供了插件市场的功能。 用户录入插件信息之后, 插件就可以被向量数据库和LLM召回, 进而执行对应的插件逻辑。目前插件分为Web页面插件和Web服务插件两类。

**Web页面插件**： 插件形式为任意一个网页, 可以是一个看板, 也可以是一个解读报告, 召回之后可以把这个网页渲染到问答会话列表；

**Web服务插件**： 插件形式为任意一个HTTP服务链接, 通过插件召回之后, 问答服务可以根据配置自动去调用HTTP服务链接并获取结果, 并把结果呈现到问答会话列表进行渲染。
<br>

## 1.2 新建插件 ##

打开超音数首页，点击"插件市场" -> "新建插件"，即可新建插件，进行配置。

![image](/img/plugin_new.jpg)

新建插件时需要填写以下信息：

![image](/img/plugin_info.jpg)
<br>

<p>数据集: 该插件所属的数据集, 当语义识别到对应的数据集时, 才可以召回对应数据集的插件, 如果选择"默认"主题域, 那么语义识别到任何主题域都可以召回该插件。
<p>插件名称: 为该插件的名称, 用于标识一个插件
<p>插件类型: 即为上面说的Web页面和Web服务两种
<p>函数名称: 可以理解为该插件的英文名称, 该名称用来和LLM进行交互, 当LLM返回对应的函数名称时, 即为选中了该名称对应的插件
<p>函数描述: 可对函数的用途、用法等方面进行描述,
<p>示例问题: 用于生成向量以及提供给LLM的语义参考, 是作为召回插件的重要依据
<p>地址: 如果该插件为"Web网页"类型插件, 那么该地址就是网页的地址, 如果该插件为"WEB服务"类型的插件, 该地址就为该服务的HTTP地址
<p>函数参数: 可以理解为页面/HTTP服务的参数以及与该参数绑定的维度, 比如这里填写的参数"name", 对应的是"超音数"数据集的"用户名"维度, 那么从"tom最近访问超音数情况怎么样" 这个文本中解析到"tom"之后, 就可以把tom作为"name"的参数
<p>高度: 可视化选项, 如果是"Web网页" 类型的插件, 该高度为该网页展示在会话列表所占用的高度, 需要根据实际情况进行微调。
<br>

## 1.3 编辑插件 ## 

如果需要对现有插件内容进行编辑, 可以通过点击"插件市场",  对以下字段(主题域、插件名称、函数描述、插件类型)进行查询，然后选择自己需要的插件右侧的"编辑"选项, 即可对插件录入的所有信息进行编辑修改。

![image](/img/plugin_edit.jpg)

如果需要删除某一个插件, 直接点击对应插件右侧的"删除"即可。
<br>

## 1.4 插件效果 ## 

### 1.4.1 Web 页面效果展示 ### 

下面以插件"艺人趋势解读"作为Web页面的demo展示。
当用户选择插件所属的数据集"问答艺人数据集", 并输入问题"林俊杰近期音乐表现如何"。超音数会将分析该问题, 最后召回"艺人趋势解读"插件，插件主要配置信息如下:

![image](/img/plugin_web_config.jpg)

在我们的场景中,最终会将一个解读报告的页面渲染到当前问答会话列表，效果如下:

![image](/img/plugin_web_result.jpg)


### 1.4.2  Web 服务效果展示 ### 

下面以插件"版权知识库"作为Web服务的demo展示。
当用户选择插件所属的数据集"问答艺人数据集", 并输入问题"林俊杰近期音乐表现如何"。超音数会将分析该问题, 最后召回"艺人趋势解读"插件，插件主要配置信息如下:

![image](/img/plugin_service_config.jpg)

在"问答对话"中选择版权知识库后，输入以下问题："请介绍一下什么是音乐作品"。此后，超音数通过插件召回, 将问题文本作为输入参数，发送给"地址"对应的Web服务, 最终获取对应的查询结果在界面上作展示。
在我们的场景中,最终会将Web服务的输出展示到当前问答会话列表, 具体效果如下:

![image](/img/plugin_service_result.jpg)





